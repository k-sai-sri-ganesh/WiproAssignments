server.port=8080
spring.application.name=api-gateway

spring.cloud.config.import=optional:configserver:http://localhost:8888
spring.profiles.active=default

eureka.client.service-url.defaultZone=http://localhost:8761/eureka

spring.main.web-application-type=reactive

# Updated route keys (WebFlux-compliant)
spring.cloud.gateway.server.webflux.routes[0].id=account-service
spring.cloud.gateway.server.webflux.routes[0].uri=lb://account-service
spring.cloud.gateway.server.webflux.routes[0].predicates[0]=Path=/account/**

spring.cloud.gateway.server.webflux.routes[1].id=transaction-service
spring.cloud.gateway.server.webflux.routes[1].uri=lb://transaction-service
spring.cloud.gateway.server.webflux.routes[1].predicates[0]=Path=/transaction/**

management.tracing.enabled=true
management.tracing.sampling.probability=1.0
management.tracing.zipkin.enabled=true
management.tracing.zipkin.endpoint=http://localhost:9411/api/v2/spans

# Enable Prometheus metrics
management.endpoints.web.exposure.include=prometheus,health,info
management.endpoint.prometheus.enabled=true
management.metrics.export.prometheus.enabled=true

